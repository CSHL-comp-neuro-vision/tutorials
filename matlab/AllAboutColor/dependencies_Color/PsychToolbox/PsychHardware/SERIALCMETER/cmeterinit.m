function [retval] = cmeterinit(portName)% [retval] = cmeterinit([portName])% % Initialize serial port for talking to colorimeter.% Returns whatever character is sent by colorimeter% in response to a 'b3' command.%% 4/4/00  dhb, jdt  Add comments, port argument. global infoCif (nargin < 1 | isempty(portName))   if (strcmp(computer,'PCWIN'))      portName = 'COM5';   else      portName = '.Aout';   endend% Only open if we haven't already.if (isempty(infoC))   infoC = SERIAL('Open',portName,portName,9600);   SERIAL('Close',infoC);   WaitSecs(0.5);   infoC = SERIAL('Open',portName,portName,9600);end% Send set backlight command to high level to check% whether we are talking to the meter.SERIAL('Write',infoC,['b3' char(10)]);retval = SERIAL('Read',infoC);