function ExitTest% ExitTest%% Test whether SCREEN succeeds in cleaning up after an error.%% BUGS: the automatic cleanup doesn't work in Student MATLAB.% 3/31/97 dhb  Wrote it.% 4/3/97  dgp  Added explanation.% 4/24/97 dgp  Polished.% 5/31/97 dgp  Polished explanation.% 1/12/98 dgp  Noted failure in Student MATLAB.FlushEvents('mouseDown','mouseUp');w=SCREEN(0,'OpenWindow');SCREEN(w,'TextSize',18);SCREEN(w,'DrawText','ExitTest tests the closing of all SCREEN windows that occurs',10,100);SCREEN(w,'DrawText','automatically when an error is detected by any of the',10,130);SCREEN(w,'DrawText','Psychophysics MEX files (e.g. calling SetMouse with too',10,160);SCREEN(w,'DrawText','many arguments). We''ll now generate an error, which should ',10,190);SCREEN(w,'DrawText','automatically dispose of this window.',10,220);SCREEN(w,'DrawText','Click mouse (or hit Command-Period) to proceed.',10,250);GetClicks;SetMouse(1,2,3,4);