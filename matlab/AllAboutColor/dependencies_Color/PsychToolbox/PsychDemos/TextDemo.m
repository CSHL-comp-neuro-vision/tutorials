function TextDemo% TextDemo uses SCREEN to display text in various sizes, fonts, and styles.% See also ScreenDemo,MovieDemo,ScreenTest.% 4/24/94 dhb  Wrote it.% 5/7/96  dhb  Convert calling from SCRTEXT to SCREEN.% 5/16/96 dhb  New calling sequence, GetClicks.% 2/1/97  dhb  Clearer user instructions and fancy flashing message.% 2/4/97  dhb  Folded in Pelli's text tests so that there is just%              one TestText script.% 2/23/97 dhb  Update for version 2 calling.%	3/5/97	dgp  Update for reversed order of [fontName,fontNumber] returned args.%	3/9/97	dgp  Added some really big text. Simplified a bit.%	3/15/97	dgp  Cosmetic.%	6/7/97	dgp  Cosmetic.%	7/19/97	dgp  Make colors independent of pixelSize.%	4/1/99	dgp  Call SORT on cells only if version>5.% Open windowwindow = SCREEN(0,'OpenWindow');ShowCursor(0);	% arrow cursorHideCursor;white=WhiteIndex(window);black=BlackIndex(window);gray=(white+black)/2;% Draw text in various waysSCREEN(window,'TextSize',24);SCREEN(window,'TextFont','Bookman');SCREEN(window,'DrawText','Hello Big Wide World',100,100,black);SCREEN(window,'TextSize',48);SCREEN(window,'DrawText','Some dimmer bigger text',100,150,gray);SCREEN(window,'TextSize',24);SCREEN(window,'TextStyle',4);SCREEN(window,'DrawText','This is underlined!!!',100,200,black);SCREEN(window,'DrawText',' So''s this.',[],[],black);SCREEN(window,'TextStyle',0);SCREEN(window,'TextFont','New York');SCREEN(window,'TextSize',18);SCREEN(window,'DrawText','Would you believe, symbols?',100,250,black);SCREEN(window,'TextFont','Symbol');SCREEN(window,'DrawText','  displayed as symbols',[],[],black);SCREEN(window,'TextFont','Chicago');SCREEN(window,'TextSize',12);SCREEN(window,'DrawText',[SCREEN(window,'TextFont') ' 12 pt'],100,300,black);SCREEN(window,'TextFont','Helvetica');SCREEN(window,'TextSize',36);oldMode=SCREEN(window,'TextMode','srcOr');SCREEN(window,'DrawText','Combined by ORing: XOXOXO',100,350,gray);SCREEN(window,'DrawText','Combined by ORing: OXOXOX',100,350,(gray+black)/2);SCREEN(window,'TextMode',oldMode);SCREEN(window,'TextSize',60);r=SCREEN(window,'Rect');SCREEN(window,'DrawText','Click mouse to proceed',100,r(RectBottom)-20,black);GetClicks;% Erase by redrawingSCREEN(window,'DrawText','Click mouse to proceed',100,r(RectBottom)-20,white);% Wait a sec so user can see erased screenWaitSecs(1.5);SCREEN(window,'FillRect');% Say goodbyefontSize=SCREEN(window,'TextSize',400); % save font size and set new sizer=SCREEN(window,'Rect');[x,y]=SCREEN(window,'DrawText','Bye!',10,r(RectBottom)-150,black);SCREEN(window,'TextSize',fontSize);	% restore font size[x,y]=SCREEN(window,'DrawText','Click mouse to proceed.',10,r(RectBottom)-20,black);GetClicks;% Close windowShowCursor;SCREEN(window,'Close');% Test text functions that return informationwindow=screen('GetMATLABWindow');width=SCREEN(window,'TextWidth','Click mouse to get font info');textFont=SCREEN(window,'TextFont');textSize=SCREEN(window,'TextSize');textStyle=SCREEN(window,'TextStyle');textMode=SCREEN(window,'TextMode');fprintf('Current text font %s, size %d, style %d, mode %d\n\n',textFont,textSize,textStyle,textMode);% Make list of fontsfprintf('Making list of available fonts. . . . ');window=SCREEN(-1,'OpenOffscreenWindow',white,[0 0 8 8]);oldFont=SCREEN(window,'TextFont');list={};for i=2:1000	font=SCREEN(window,'TextFont',i);	if length(font)>0		list=cat(1,list,{font});	endendif sscanf(version,'%f',1)>5	list=sort(list);endSCREEN(window,'TextFont',oldFont);fprintf('Done.\n');fprintf('Available fonts include these %d:\n',length(list));for i=1:length(list)	fprintf('%s\n',list{i});end