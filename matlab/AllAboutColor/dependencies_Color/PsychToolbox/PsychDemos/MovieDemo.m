function MovieDemo% MovieDemo. Make and show a movie. A minimal example.%% For a more elaborate example see MovieDemo2. To evaluate % the performance of SCREEN on your hardware, try ScreenTest.% 1/97  	dgp  Wrote it.% 2/24/97	dhb  Added comments, cosmetic editing.% 3/15/97	dgp  Hide cursor.% 4/2/97  dhb  Change -1 to 255 in call to FillOval.% 4/15/97 dgp  Open window first. Specify which screen explicitly.% 5/31/97 dgp  Add RUSH.% 6/1/97 	dgp  Make variable names less cryptic.% 8/9/97  dhb  Explicitly set pixel size.% 8/21/97	dhb	 Make printout less ominous, make note in comment.% 2/1/98	dgp	 Use MaxPriority in call to RUSH.% 2/2/98	dgp	 Move the movie down to middle of screen, to avoid tearing.% 7/21/98	dgp	 Added reminder to make sure all Rushed functions are in memory.% 9/30/99	dgp	 Removed 'CopyBitsQuickly' argument from first call to CopyWindow.fprintf('MovieDemo.m is only 35 lines, plus comments. Read it to see how easy it is to show movies.\n\n');% Open a window in center of screenscreenNumber=0;pixelSize=8;rect=CenterRect([0 0 200 200],SCREEN(screenNumber,'Rect'));window=SCREEN(screenNumber,'OpenWindow',[],rect,pixelSize);% Make a movie by drawing disks into 101 offscreen windows.fprintf('Computing the movie... ');black=BlackIndex(window);w=1:101;for i=1:101	w(i)=SCREEN(window,'OpenOffscreenWindow');	r=[0 0 2 2]*(i-1);	SCREEN(w(i),'FillOval',black,r);endfprintf('Done.\nRoll ''em!\n');% Show the movie, first forwards, then backwards.HideCursor;rect=SCREEN(w(1),'Rect');for i=[1:101 101:-1:1]	SCREEN(window,'WaitBlanking');	SCREEN('CopyWindow',w(i),window,rect,rect);end% Show the movie again, now using RUSH to minimize interruptions.loop={	'for i=[1:101 101:-1:1];'		'SCREEN(window,''WaitBlanking'');'		'SCREEN(''CopyWindow'',w(i),window,rect,rect);'	'end;'};priorityLevel=MaxPriority(screenNumber,'WaitBlanking');SCREEN('Screens');		% Make sure all Rushed functions are in memory.RUSH(loop,priorityLevel);ShowCursor;% Close the on- and off-screen windowsSCREEN('CloseAll');fprintf('The movie was shown twice. The first showing may have been jerky, due to\n');fprintf('interruptions. The second showing used RUSH to minimize interruptions, to\n');fprintf('make the movie run smoothly. See MovieTearDemo and RUSH.\n');