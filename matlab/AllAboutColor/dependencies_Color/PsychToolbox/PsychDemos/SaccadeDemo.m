function SaccadeDemo% SaccadeDemo displays a counterphase-flickered grating at maximum speed,% half the frame rate. It is nearly invisible unless you make a saccade% (move your eyes past it quickly), at which point you'll see it momentarily% as a static high-contrast grating.%% Denis Pelli% 2/17/00 dgp Wrote it.% windowwhichScreen=0;window=SCREEN(whichScreen,'OpenWindow');w=1:4;white=WhiteIndex(window);black=BlackIndex(window);gray=(white+black)/2;if round(gray)==white	gray=black;endinc=white-gray;SCREEN(window,'FillRect',gray);fr=FrameRate(window);hz=fr/2;for i=1:4	phase=i*(hz/fr)*2*pi;	% grating	[x,y]=meshgrid(-200:200,-200:200);	angle=0*pi/180; % 0 deg orientation; change it to whatever you want.	f=0.05*2*pi; % cycles/pixel	a=cos(angle)*f;	b=sin(angle)*f;	m=exp(-((x/100).^2)-((y/100).^2)).*sin(a*x+b*y+phase);%	SCREEN(window,'PutImage',gray+inc*m);	w(i)=SCREEN(whichScreen,'OpenOffscreenWindow',0,[0 0 size(m)]);	SCREEN(w(i),'PutImage',gray+inc*m);endr=SCREEN(w(1),'Rect');rr=CenterRect(r,screen(window,'Rect'));SCREEN('Screens');	% Make sure all functions are in memory.i=0;				% Allocate all variables.loop={	'for i=1:1000;'		'SCREEN(window,''WaitBlanking'');'		'SCREEN(''CopyWindow'',w(1+mod(i,4)),window,r,rr);'	'end;'};priorityLevel=MaxPriority(window,'WaitBlanking');RUSH(loop,priorityLevel);SCREEN('CloseAll');