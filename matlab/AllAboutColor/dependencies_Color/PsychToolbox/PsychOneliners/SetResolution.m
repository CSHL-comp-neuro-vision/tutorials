function oldRes=SetResolution(screenNumber,width,height,hz,pixelSize)% oldRes=SetResolution(screenNumber,width,height,[hz],[pixelSize])% % Set the resolution of the screen.  This is intended to be used in programs that% run psychophysical experiments, so SetResolution is strict. It issues a fatal % error unless it can provide exactly the resolution you specified. (For lenience,% look at NearestResolution.)% screenNumber is the screen number.% 'width' and 'height' are the desired dimensions in pixels.  % 'hz' is the desired refresh rate (default is current frame rate).  % pixelSize is in bits: 1,2,4,8,16, or 32 and defaults to current pixelSize.% Returns 'oldRes' which is the current resolution.  % % 		oldRes=SetResolution(0,1024,768,75);% 		w=Screen(0,'OpenWindow');% 		Screen(w,'PutImage',image);% 		Screen(w,'Close');% 		Screen(0,'Resolution',oldRes);% % To display a list of available resolutions, try ResolutionTest.% Also see NearestResolution, ResolutionTest, and SCREEN Resolution and Resolutions.% % Sabina Wolfson% HISTORY:% 1/27/00 SSW Wrote it.% 1/28/00 dgp Cosmetic editing. Made screenNumber first argument. Renamed from set_resolution to SetResolution.if nargin<3 | nargin>5	error('USAGE: oldRes=SetResolution(screenNumber,width,height,[hz],[pixelSize])');endif screenNumber<0 | screenNumber>max(SCREEN('Screens'))	error(sprintf('Invalid screenNumber %d.',screenNumber));endoldRes=SCREEN(screenNumber,'Resolution');if nargin<5	pixelSize=oldRes.pixelSize;endif nargin<4	hz=oldRes.hz;endres=SCREEN(screenNumber,'Resolutions'); % get a list of available resolutionsresIndex=find([res.width]==width & [res.height]==height & [res.hz]==hz);if isempty(resIndex)	error(sprintf('Can''t find a resolution of %g X %g X %g Hz. Resolution remains unchanged.',width,height,hz));endoldRes=SCREEN(screenNumber,'Resolution',res(resIndex(1))); % set the resolution