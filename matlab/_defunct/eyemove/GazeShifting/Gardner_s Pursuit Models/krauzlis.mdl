Model {  Name			  "krauzlis"  Version		  2.20  SimParamPage		  Solver  SampleTimeColors	  off  InvariantConstants	  off  WideVectorLines	  off  ShowLineWidths	  off  StartTime		  "0.0"  StopTime		  "2"  Solver		  ode45  RelTol		  "1e-6"  AbsTol		  "1e-6"  Refine		  "1"  MaxStep		  ".001"  InitialStep		  ".001"  FixedStep		  "auto"  MaxOrder		  5  OutputOption		  RefineOutputTimes  OutputTimes		  "[]"  LoadExternalInput	  off  ExternalInput		  "[t, u]"  SaveTime		  on  TimeSaveName		  "tout"  SaveState		  off  StateSaveName		  "xout"  SaveOutput		  on  OutputSaveName	  "yout"  LoadInitialState	  off  InitialState		  "xInitial"  SaveFinalState	  off  FinalStateName	  "xFinal"  LimitMaxRows		  off  MaxRows		  "1000"  Decimation		  "1"  AlgebraicLoopMsg	  warning  MinStepSizeMsg	  warning  UnconnectedInputMsg	  warning  UnconnectedOutputMsg	  warning  UnconnectedLineMsg	  warning  ConsistencyChecking	  off  ZeroCross		  on  SimulationMode	  normal  RTWSystemTargetFile	  "grt.tlc"  RTWInlineParameters	  off  RTWPlaceOutputsASAP	  off  RTWRetainRTWFile	  off  RTWTemplateMakefile	  "grt_default_tmf"  RTWMakeCommand	  "make_rtw"  RTWGenerateCodeOnly	  off  ExtModeMexFile	  "ext_comm"  ExtModeBatchMode	  off  BlockDefaults {    Orientation		    right    ForegroundColor	    black    BackgroundColor	    white    DropShadow		    off    NamePlacement	    normal    FontName		    "Helvetica"    FontSize		    10    FontWeight		    normal    FontAngle		    normal    ShowName		    on  }  AnnotationDefaults {    HorizontalAlignment	    center    VerticalAlignment	    middle    ForegroundColor	    black    BackgroundColor	    white    DropShadow		    off    FontName		    "Helvetica"    FontSize		    10    FontWeight		    normal    FontAngle		    normal  }  LineDefaults {    FontName		    "Helvetica"    FontSize		    9    FontWeight		    normal    FontAngle		    normal  }  System {    Name		    "krauzlis"    Location		    [21, 132, 1011, 631]    Open		    on    ToolBar		    on    StatusBar		    on    ScreenColor		    white    PaperOrientation	    landscape    PaperPositionMode	    auto    PaperType		    usletter    PaperUnits		    inches    Block {      BlockType		      TransportDelay      Name		      "60ms Delay\nVisual Delay"      Position		      [200, 190, 230, 220]      DelayTime		      ".060"      InitialInput	      "0"      BufferSize	      "1024"    }    Block {      BlockType		      From      Name		      "Blue"      Position		      [845, 300, 875, 330]      CloseFcn		      "tagdialog Close"      GotoTag		      "vel"    }    Block {      BlockType		      From      Name		      "Blue3"      Position		      [655, 370, 685, 400]      CloseFcn		      "tagdialog Close"      GotoTag		      "input"    }    Block {      BlockType		      Derivative      Name		      "Derivative"      Position		      [315, 190, 345, 220]    }    Block {      BlockType		      Fcn      Name		      "Fcn"      Position		      [440, 190, 500, 220]      Expr		      "(u<-3000)*(-5625*log(.00015*abs(u)+1))+(u>3000)""*(5625*log(.00015*abs(u)+1))"    }    Block {      BlockType		      Fcn      Name		      "Fcn1"      Position		      [440, 285, 500, 315]      Expr		      "(u>-500&&u<=-25)*(-42*log(.1*abs(u)+1))+(u>-25&""&u<=0)*(-(.0672*u^2)*log(.1*abs(u)+1))+(u>0&&u<=25)*((.0672*u^2)*log(.1*abs(u"")+1))+(u>25&&u<=500)*(42*log(.1*abs(u)+1))"    }    Block {      BlockType		      Gain      Name		      "Gain"      Position		      [380, 115, 410, 145]      Gain		      "8.3"    }    Block {      BlockType		      Gain      Name		      "Gain2"      Position		      [390, 190, 420, 220]      Gain		      "1"    }    Block {      BlockType		      Gain      Name		      "Gain3"      Position		      [255, 190, 285, 220]      Gain		      "1"    }    Block {      BlockType		      Gain      Name		      "Gain4"      Position		      [395, 285, 425, 315]      Gain		      "1"    }    Block {      BlockType		      Gain      Name		      "Gain5"      Position		      [720, 190, 750, 220]      Gain		      "1"    }    Block {      BlockType		      Gain      Name		      "Gain6"      Position		      [310, 115, 340, 145]      Gain		      "1"    }    Block {      BlockType		      Goto      Name		      "Goto"      Position		      [620, 75, 650, 105]      Orientation	      up      GotoTag		      "vel"      TagVisibility	      local    }    Block {      BlockType		      Goto      Name		      "Goto1"      Position		      [685, 250, 715, 280]      GotoTag		      "acc"      TagVisibility	      local    }    Block {      BlockType		      Goto      Name		      "Goto2"      Position		      [590, 245, 620, 275]      Orientation	      left      NamePlacement	      alternate      GotoTag		      "mot"      TagVisibility	      local    }    Block {      BlockType		      Goto      Name		      "Goto3"      Position		      [265, 295, 295, 325]      GotoTag		      "input"      TagVisibility	      local    }    Block {      BlockType		      Goto      Name		      "Goto4"      Position		      [825, 245, 855, 275]      GotoTag		      "output"      TagVisibility	      local    }    Block {      BlockType		      From      Name		      "Green"      Position		      [770, 315, 800, 345]      CloseFcn		      "tagdialog Close"      GotoTag		      "mot"    }    Block {      BlockType		      From      Name		      "Green1"      Position		      [655, 415, 685, 445]      CloseFcn		      "tagdialog Close"      GotoTag		      "output"    }    Block {      BlockType		      Integrator      Name		      "Integrator"      Ports		      [1, 1, 0, 0, 0]      Position		      [765, 190, 795, 220]      ExternalReset	      none      InitialConditionSource  internal      InitialCondition	      "0"      LimitOutput	      off      UpperSaturationLimit    "inf"      LowerSaturationLimit    "-inf"      ShowSaturationPort      off      ShowStatePort	      off      AbsoluteTolerance	      "auto"    }    Block {      BlockType		      Integrator      Name		      "Integrator1"      Ports		      [1, 1, 0, 0, 0]      Position		      [710, 90, 740, 120]      ExternalReset	      none      InitialConditionSource  internal      InitialCondition	      "0"      LimitOutput	      off      UpperSaturationLimit    "inf"      LowerSaturationLimit    "-inf"      ShowSaturationPort      off      ShowStatePort	      off      AbsoluteTolerance	      "auto"    }    Block {      BlockType		      Lookup      Name		      "Look-Up\nTable1"      Position		      [15, 15, 45, 45]      InputValues	      "[-10000:10000]"      OutputValues	      "[-5625*log(0.00015*(10000:-1:3001)+1) zeros(1,6""001) 5625*log((3001:10000)*.00015+1)]"    }    Block {      BlockType		      TransferFcn      Name		      "Low Pass Filter"      Position		      [525, 112, 580, 148]      Numerator		      "[1]"      Denominator	      "[0.027 1]"    }    Block {      BlockType		      TransferFcn      Name		      "Low Pass Filter1"      Position		      [520, 186, 565, 224]      Numerator		      "[1]"      Denominator	      "[.017 1]"    }    Block {      BlockType		      TransferFcn      Name		      "Low Pass Filter2"      Position		      [515, 282, 570, 318]      Numerator		      "[1]"      Denominator	      "[.005 1]"    }    Block {      BlockType		      Mux      Name		      "Mux"      Ports		      [4, 1, 0, 0, 0]      Position		      [905, 292, 945, 433]      Inputs		      "4"    }    Block {      BlockType		      Mux      Name		      "Mux1"      Ports		      [2, 1, 0, 0, 0]      Position		      [725, 364, 765, 451]      Inputs		      "2"    }    Block {      BlockType		      TransferFcn      Name		      "Plant"      Position		      [815, 187, 870, 223]      Numerator		      "[1]"      Denominator	      "[.015 1]"    }    Block {      BlockType		      From      Name		      "Red"      Position		      [815, 330, 845, 360]      CloseFcn		      "tagdialog Close"      GotoTag		      "acc"    }    Block {      BlockType		      Scope      Name		      "Scope"      Ports		      [1, 0, 0, 0, 0]      Position		      [920, 190, 950, 220]      Floating		      off      Location		      [162, 348, 486, 587]      Open		      off      Grid		      on      TickLabels	      on      ZoomMode		      on      TimeRange		      "auto"      YMin		      "-4"      YMax		      "40"      SaveToWorkspace	      on      SaveName		      "yikes"      LimitMaxRows	      on      MaxRows		      "10000"      Decimation	      "1"      SampleInput	      off      SampleTime	      "0"    }    Block {      BlockType		      Scope      Name		      "Scope1"      Ports		      [1, 0, 0, 0, 0]      Position		      [135, 270, 165, 300]      Floating		      off      Location		      [188, 365, 512, 604]      Open		      off      Grid		      on      TickLabels	      on      ZoomMode		      on      TimeRange		      "auto"      YMin		      "-5"      YMax		      "5"      SaveToWorkspace	      off      SaveName		      "ScopeData"      LimitMaxRows	      on      MaxRows		      "5000"      Decimation	      "1"      SampleInput	      off      SampleTime	      "0"    }    Block {      BlockType		      Scope      Name		      "Scope2"      Ports		      [1, 0, 0, 0, 0]      Position		      [965, 345, 995, 375]      Floating		      off      Location		      [118, 384, 483, 762]      Open		      off      Grid		      on      TickLabels	      on      ZoomMode		      on      TimeRange		      "auto"      YMin		      "-25             "      YMax		      "175             "      SaveToWorkspace	      off      SaveName		      "ScopeData"      LimitMaxRows	      on      MaxRows		      "5000"      Decimation	      "1"      SampleInput	      off      SampleTime	      "0"    }    Block {      BlockType		      Scope      Name		      "Scope3"      Ports		      [1, 0, 0, 0, 0]      Position		      [785, 395, 815, 425]      Floating		      off      Location		      [188, 365, 512, 604]      Open		      off      Grid		      on      TickLabels	      on      ZoomMode		      on      TimeRange		      "auto"      YMin		      "-25             "      YMax		      "175             "      SaveToWorkspace	      off      SaveName		      "ScopeData"      LimitMaxRows	      on      MaxRows		      "5000"      Decimation	      "1"      SampleInput	      off      SampleTime	      "0"    }    Block {      BlockType		      SubSystem      Name		      "Subsystem"      Ports		      [0, 1, 0, 0, 0]      Position		      [35, 185, 65, 235]      ShowPortLabels	      on      System {	Name			"Subsystem"	Location		[115, 393, 373, 674]	Open			off	ToolBar			off	StatusBar		off	ScreenColor		white	PaperOrientation	landscape	PaperPositionMode	auto	PaperType		usletter	PaperUnits		inches	Block {	  BlockType		  Constant	  Name			  "Constant"	  Position		  [25, 60, 45, 80]	  Value			  "0"	}	Block {	  BlockType		  Reference	  Name			  "Pulse\nGenerator"	  Ports			  [0, 1, 0, 0, 0]	  Position		  [70, 25, 100, 55]	  SourceBlock		  "simulink/Sources/Pulse\nGenerator"	  SourceType		  "Pulse Generator"	  period		  "100"	  duty			  "50"	  amplitude		  "20"	  start			  "0"	}	Block {	  BlockType		  Reference	  Name			  "Pulse\nGenerator1"	  Ports			  [0, 1, 0, 0, 0]	  Position		  [25, 140, 55, 170]	  SourceBlock		  "simulink/Sources/Pulse\nGenerator"	  SourceType		  "Pulse Generator"	  period		  "100"	  duty			  "50"	  amplitude		  "20"	  start			  "0"	}	Block {	  BlockType		  Sin	  Name			  "Sine Wave"	  Position		  [70, 90, 100, 120]	  Amplitude		  "10"	  Frequency		  "10*pi*2"	  Phase			  "0"	  SampleTime		  "0"	}	Block {	  BlockType		  Sin	  Name			  "Sine Wave1"	  Position		  [25, 200, 55, 230]	  Amplitude		  "15"	  Frequency		  "1*pi*2"	  Phase			  "0"	  SampleTime		  "0"	}	Block {	  BlockType		  Sum	  Name			  "Sum"	  Ports			  [2, 1, 0, 0, 0]	  Position		  [85, 167, 115, 198]	  Inputs		  "++"	}	Block {	  BlockType		  Switch	  Name			  "Switch"	  Position		  [135, 55, 165, 85]	  Threshold		  "1"	}	Block {	  BlockType		  Outport	  Name			  "Out1"	  Position		  [190, 63, 220, 77]	  Port			  "1"	  OutputWhenDisabled	  held	  InitialOutput		  "0"	}	Line {	  SrcBlock		  "Pulse\nGenerator"	  SrcPort		  1	  Points		  [15, 0]	  DstBlock		  "Switch"	  DstPort		  1	}	Line {	  SrcBlock		  "Constant"	  SrcPort		  1	  DstBlock		  "Switch"	  DstPort		  2	}	Line {	  SrcBlock		  "Switch"	  SrcPort		  1	  DstBlock		  "Out1"	  DstPort		  1	}	Line {	  SrcBlock		  "Sine Wave1"	  SrcPort		  1	  Points		  [10, 0]	  DstBlock		  "Sum"	  DstPort		  2	}	Line {	  SrcBlock		  "Sum"	  SrcPort		  1	  DstBlock		  "Switch"	  DstPort		  3	}      }    }    Block {      BlockType		      SubSystem      Name		      "Subsystem1"      Ports		      [1, 1, 0, 0, 0]      Position		      [15, 83, 65, 137]      ShowPortLabels	      on      System {	Name			"Subsystem1"	Location		[570, 600, 940, 682]	Open			off	ToolBar			off	StatusBar		off	ScreenColor		white	PaperOrientation	landscape	PaperPositionMode	auto	PaperType		usletter	PaperUnits		inches	Block {	  BlockType		  Inport	  Name			  "In1"	  Position		  [25, 33, 55, 47]	  Port			  "1"	  PortWidth		  "-1"	  SampleTime		  "-1"	}	Block {	  BlockType		  DeadZone	  Name			  "Dead Zone1"	  Position		  [80, 25, 110, 55]	  LowerValue		  "-3000"	  UpperValue		  "3000"	}	Block {	  BlockType		  Fcn	  Name			  "Fcn2"	  Position		  [230, 25, 290, 55]	  Expr			  "(1-2*(u<0))*5625*log(.00015*abs(u)+1)"	}	Block {	  BlockType		  Fcn	  Name			  "Fcn3"	  Position		  [140, 25, 200, 55]	  Expr			  "u+3000*(u>0)-3000*(u<0)"	}	Block {	  BlockType		  Outport	  Name			  "Out1"	  Position		  [315, 33, 345, 47]	  Port			  "1"	  OutputWhenDisabled	  held	  InitialOutput		  "0"	}	Line {	  SrcBlock		  "Dead Zone1"	  SrcPort		  1	  DstBlock		  "Fcn3"	  DstPort		  1	}	Line {	  SrcBlock		  "Fcn3"	  SrcPort		  1	  DstBlock		  "Fcn2"	  DstPort		  1	}	Line {	  SrcBlock		  "In1"	  SrcPort		  1	  DstBlock		  "Dead Zone1"	  DstPort		  1	}	Line {	  SrcBlock		  "Fcn2"	  SrcPort		  1	  DstBlock		  "Out1"	  DstPort		  1	}      }    }    Block {      BlockType		      Sum      Name		      "Sum"      Ports		      [2, 1, 0, 0, 0]      Position		      [145, 187, 175, 218]      Inputs		      "-+"    }    Block {      BlockType		      Sum      Name		      "Sum1"      Ports		      [3, 1, 0, 0, 0]      Position		      [675, 189, 705, 221]      Inputs		      "+++"    }    Block {      BlockType		      ToWorkspace      Name		      "To Workspace"      Position		      [935, 90, 995, 120]      VariableName	      "simout"      Buffer		      "inf"      Decimation	      "1"      SampleTime	      ".01"    }    Block {      BlockType		      TransferFcn      Name		      "Transfer Fcn"      Position		      [580, 187, 635, 223]      Numerator		      "[1]"      Denominator	      "[.017 1]"    }    Block {      BlockType		      TransferFcn      Name		      "Transfer Fcn2"      Position		      [590, 282, 645, 318]      Numerator		      "[1]"      Denominator	      "[.005 1]"    }    Block {      BlockType		      TransportDelay      Name		      "Transport\nDelay"      Position		      [395, 30, 425, 60]      Orientation	      left      DelayTime		      "0"      InitialInput	      "0"      BufferSize	      "1024"    }    Line {      SrcBlock		      "Transport\nDelay"      SrcPort		      1      Points		      [-260, 0]      DstBlock		      "Sum"      DstPort		      1    }    Line {      SrcBlock		      "Gain"      SrcPort		      1      DstBlock		      "Low Pass Filter"      DstPort		      1    }    Line {      SrcBlock		      "60ms Delay\nVisual Delay"      SrcPort		      1      DstBlock		      "Gain3"      DstPort		      1    }    Line {      SrcBlock		      "Gain6"      SrcPort		      1      DstBlock		      "Gain"      DstPort		      1    }    Line {      SrcBlock		      "Low Pass Filter1"      SrcPort		      1      DstBlock		      "Transfer Fcn"      DstPort		      1    }    Line {      SrcBlock		      "Fcn"      SrcPort		      1      DstBlock		      "Low Pass Filter1"      DstPort		      1    }    Line {      SrcBlock		      "Low Pass Filter2"      SrcPort		      1      DstBlock		      "Transfer Fcn2"      DstPort		      1    }    Line {      SrcBlock		      "Fcn1"      SrcPort		      1      DstBlock		      "Low Pass Filter2"      DstPort		      1    }    Line {      SrcBlock		      "Gain4"      SrcPort		      1      DstBlock		      "Fcn1"      DstPort		      1    }    Line {      SrcBlock		      "Plant"      SrcPort		      1      Points		      [5, 0]      Branch {	Points			[0, -160]	DstBlock		"Transport\nDelay"	DstPort			1      }      Branch {	Points			[15, 0]	Branch {	  Points		  [0, -100]	  DstBlock		  "To Workspace"	  DstPort		  1	}	Branch {	  DstBlock		  "Scope"	  DstPort		  1	}      }    }    Line {      SrcBlock		      "Sum1"      SrcPort		      1      DstBlock		      "Gain5"      DstPort		      1    }    Line {      SrcBlock		      "Gain3"      SrcPort		      1      Points		      [5, 0]      Branch {	DstBlock		"Gain6"	DstPort			1      }      Branch {	DstBlock		"Derivative"	DstPort			1      }    }    Line {      SrcBlock		      "Gain5"      SrcPort		      1      DstBlock		      "Integrator"      DstPort		      1    }    Line {      SrcBlock		      "Low Pass Filter"      SrcPort		      1      Points		      [50, 0]      Branch {	Points			[25, 0]	DstBlock		"Sum1"	DstPort			1      }      Branch {	DstBlock		"Goto"	DstPort			1      }    }    Line {      SrcBlock		      "Transfer Fcn2"      SrcPort		      1      Points		      [10, 0; 0, -35]      Branch {	DstBlock		"Sum1"	DstPort			3      }      Branch {	DstBlock		"Goto1"	DstPort			1      }    }    Line {      SrcBlock		      "Transfer Fcn"      SrcPort		      1      Points		      [10, 0]      Branch {	DstBlock		"Sum1"	DstPort			2      }      Branch {	Points			[0, 55]	DstBlock		"Goto2"	DstPort			1      }    }    Line {      SrcBlock		      "Mux"      SrcPort		      1      DstBlock		      "Scope2"      DstPort		      1    }    Line {      SrcBlock		      "Subsystem"      SrcPort		      1      Points		      [50, 0]      Branch {	DstBlock		"Sum"	DstPort			2      }      Branch {	DstBlock		"Scope1"	DstPort			1      }    }    Line {      SrcBlock		      "Derivative"      SrcPort		      1      Points		      [10, 0]      Branch {	DstBlock		"Gain2"	DstPort			1      }      Branch {	Points			[0, 95]	DstBlock		"Gain4"	DstPort			1      }    }    Line {      SrcBlock		      "Sum"      SrcPort		      1      Points		      [0, 0]      Branch {	DstBlock		"60ms Delay\nVisual Delay"	DstPort			1      }      Branch {	Points			[0, 105]	DstBlock		"Goto3"	DstPort			1      }    }    Line {      SrcBlock		      "Integrator"      SrcPort		      1      Points		      [0, 0]      Branch {	DstBlock		"Plant"	DstPort			1      }      Branch {	Points			[0, 55]	DstBlock		"Goto4"	DstPort			1      }    }    Line {      SrcBlock		      "Blue"      SrcPort		      1      Points		      [10, 0]      DstBlock		      "Mux"      DstPort		      1    }    Line {      SrcBlock		      "Mux1"      SrcPort		      1      DstBlock		      "Scope3"      DstPort		      1    }    Line {      SrcBlock		      "Gain2"      SrcPort		      1      DstBlock		      "Fcn"      DstPort		      1    }    Line {      SrcBlock		      "Red"      SrcPort		      1      DstBlock		      "Mux"      DstPort		      2    }    Line {      SrcBlock		      "Blue3"      SrcPort		      1      Points		      [200, 0]      DstBlock		      "Mux"      DstPort		      3    }    Line {      SrcBlock		      "Green1"      SrcPort		      1      Points		      [200, 0]      DstBlock		      "Mux"      DstPort		      4    }    Annotation {      Position		      [657, 199]      Text		      ""    }    Annotation {      Position		      [775, 249]      Text		      "-90"    }    Annotation {      Position		      [321, 241]      Text		      "+90"    }    Annotation {      Position		      [541, 99]      Text		      ">10 0 - -90"    }    Annotation {      Position		      [300, 337]      Text		      "This is the kraulzlis-lisberger model. The uppe""rmost pathway is the velocity pathway\nNext down is the initial acceleration ""pathway hich should give you the motion\nonset signal but seems broken in thi""s implementation (Paul: fix it). The\nthird pathway is the continuous velocit""y pathway. The most interesting\nthing to do is to consider the relative phas""e angles of the subcomponents\nand the effects of the terminal integrator.  T""his integrator is private to pursuit\n(not the 'step' integrator which is bun""dled into the 'plant' box. \n\nCheck this out by putting a set of scope input""s onto the three lines and viewing them\nbefore they are combined.\n\nThe Int""uition here is that the big difference between this model and the\n'simplest'"" model in fig 6a is the terminal integrator whose 90 phase lag (with regard\n""to the top/velocity line) is what is setting up the oscillations\n\nNote that"" to get the oscillations you need to get a 180 phase diff. In the notes stres""s\nhow important it is to scope and compare the phase angles between signals ""at the\nbeginning and end of the system. Think about which ones give you phas""e leads\nand lags and mention the bode plots for the functions and that below"" about 10Hz \nthey dont contibute much to phase.\n\nThe nest thing to be clea""r on is that the last integration doesnt actually screw up the\ntop/velocity ""signal because initial eye accelleration is proportional to velocity\n\nThere"" is a linear version of the model that works in a similar way but the\nnon-li""nearities are really what allow you to match the data for early pursuit."    }  }}