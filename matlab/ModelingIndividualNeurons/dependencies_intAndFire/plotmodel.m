% Function to plot the membrane stimulus% membrane potential and firing rate of% the integrate and fire model. c defines% the color of the plotfunction plotmodel(times,stimulus,spikes,c,V)% five arguments specifies three panel displayif (nargin == 5)  subplot(3,1,1)  plot(times,stimulus,c)  ylabel('Stimulus')  hold on; zoom on;  subplot(3,1,2)  plot(times,V+(20*spikes),c)  hold on; zoom on;  ylabel('Membrane potential (mV)')  spiketimes = times(find(spikes));  intervals = spiketimes([2:end])-spiketimes([1:end-1]);  subplot(3,1,3)  plot(spiketimes(2:end),1000*(1./intervals),[c 'o']);  xlabel('Time (msec)')  ylabel('Firing rate (spikes/s)');  hold on; zoom on;% else two panel displayelse  subplot(2,1,1)  plot(times,stimulus,c)  ylabel('Stimulus')  hold on; zoom on;  spiketimes = times(find(spikes));  intervals = spiketimes([2:end])-spiketimes([1:end-1]);  subplot(2,1,2)  plot(spiketimes(2:end),1000*(1./intervals),[c 'o']);  xlabel('Time (msec)')  ylabel('Firing rate (spikes/s)');  hold on; zoom on;end	